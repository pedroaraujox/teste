<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Sistema de Estoque - Firebase</title>
  <script type="module">
    // Importa os módulos do Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-firestore.js";

    // Configuração do Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyDJqt0KnBQyO2v_MvDQfz1BtmfMYP0vmJY",
      authDomain: "teste-5afef.firebaseapp.com",
      projectId: "teste-5afef",
      storageBucket: "teste-5afef.firebasestorage.app",
      messagingSenderId: "605208520383",
      appId: "1:605208520383:web:a0dd81ab47dcaf2a01080a"
    };

    // Inicializa o Firebase e o Firestore
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Função para salvar item no Firestore
    async function salvarItem() {
      const nome = document.getElementById("nome").value;
      const codigo = document.getElementById("codigo").value;

      try {
        const docRef = await addDoc(collection(db, "estoque"), {
          nome: nome,
          codigo: codigo,
          dataCadastro: new Date()
        });
        alert("Item cadastrado com sucesso! ID: " + docRef.id);
      } catch (e) {
        alert("Erro ao cadastrar item: " + e);
      }
    }

    // Deixa disponível no botão
    window.salvarItem = salvarItem;
  </script>
</head>
<body>
  <h1>Cadastro de Materiais</h1>

  <label for="nome">Nome do item:</label><br>
  <input type="text" id="nome" placeholder="Ex: Notebook Dell"><br><br>

  <label for="codigo">Código de barras (ou QR):</label><br>
  <input type="text" id="codigo" placeholder="Ex: 1234567890"><br><br>

  <button onclick="salvarItem()">Cadastrar no estoque</button>
</body>
</html>

